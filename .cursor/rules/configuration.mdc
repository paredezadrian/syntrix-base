---
description: Configuration patterns for Apply Intelligently.
---

# Configuration Patterns

## YAML Configuration Files
- Use descriptive, hierarchical structure for configuration
- Group related settings logically (model, optim, schedule, train)
- Include comments explaining non-obvious parameter choices
- Provide sensible defaults for all parameters

## Configuration Structure
- **Model Section**: Architecture parameters (layers, dimensions, heads)
- **Optim Section**: Optimizer settings (lr, weight_decay, betas)
- **Schedule Section**: Learning rate scheduling (type, warmup_steps)
- **Train Section**: Training loop parameters (batch_size, steps, dtype)

## Configuration Loading
- Use dataclasses for type-safe configuration
- Implement YAML loading with environment variable substitution
- Support command-line overrides for all configuration parameters
- Validate configuration values before training begins

## Default Values
- **Learning Rate**: Start with 3e-3 for most models
- **Weight Decay**: Use 0.1 for regularization
- **Beta Parameters**: Use [0.9, 0.95] for AdamW
- **Gradient Clipping**: Default to 1.0
- **Block Size**: Use 128 for character-level tasks

## Environment Variables
- Support `SYNTRIX_*` environment variables for configuration
- Allow override of data paths and output directories
- Support different configuration profiles (dev, prod, benchmark)
- Log all configuration values for reproducibility

## Validation
- Validate numeric ranges (e.g., learning rate > 0)
- Check file existence for data paths
- Verify model architecture compatibility
- Ensure training parameters are reasonable for CPU targets
